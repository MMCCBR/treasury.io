<!DOCTYPE html>
<html>
<head>
    <title>U.S. Treasury API</title>
    <link rel="icon" type="image/png" href="web/favicon.png">
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:800,400,300", rel="stylesheet", type="text/css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="web/js/jquery.formalize.min.js"></script>
    <script type='text/javascript' src="http://twitter.github.com/bootstrap/1.4.0/bootstrap-scrollspy.js"></script>
    <script type='text/javascript' src="http://demos.flesler.com/jquery/scrollTo/js/jquery.scrollTo-min.js"></script>
    <!-- RED QUERY -->
    <script src="web/RedQueryBuilder/RedQueryBuilder.nocache.js" type="text/javascript" language="javascript">//</script>
    <link href="web/RedQueryBuilder/gwt/dark/dark.css" rel="stylesheet" type="text/css" />
    <script src="web/RedQueryBuilder/RedQueryBuilderFactory.nocache.js" type="text/javascript" language="javascript">//</script>
    <!-- end red query -->
    <link href="web/css/reset.css" rel='stylesheet' type='text/css'/>
    <link href="web/css/styles.css" rel='stylesheet' type='text/css'/>
</head>
<body class="bluedots" data-spy="scroll" data-target="#navmenu" data-offset="80">
  <!--[if lt IE 9]>
      <p class="chromeframe" style="margin: 40px auto 0; width: 600px; font-size: 24px; line-height: 1.4em;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->
    <div id="container-fluid">
        <div id="hero">
            <h1 id="title" class="sticky">TREASURY.IO</h1>
            <div id="subhead">A daily data feed for the U.S. Treasury</div>
        </div>
        <nav id="navmenu">
            <ul id="menu">
                <li class="nav-item" id="logo"><a class="btn" href="#hero"><img src="web/images/flag.png"></a></li>
                <li class="nav-item active"><a class="btn" href="#query">Query</a></li>
                <li class="nav-item"><a class="btn" href="#about">About</a></li>
                <li class="nav-item"><a class="btn" href="#tables">Tables</a></li>
                <li class="nav-item"><a class="btn" href="#usage">Usage</a></li>
                <li class="nav-item"><a class="btn" href="#examples">Examples</a></li>
            <ul>
        </nav>
        <div id="section-wrapper">
          <div id="query" class="section">
            <h2><a href="query"><span class="bullet">$</span> <span class="internal-link">Query builder</span></a></h2>
            <div id="builder">
              <div id="rqb">&nbsp;</div>
              <button id="query-refresher" disabled>Update query text...</button>
              <div id="query-string-wrapper">
                <fieldset>
                  <span>SQL Query | View as:* </span>
                  <ul id="encoding-btns">
                    <li>
                      <a href="#" data-encoding="false" class="btn active">Plain-text</a>
                    </li>
                    <li>
                      <a data-encoding="true" class="btn">URL-Encoded</a>
                    </li>
                  </ul>
                  <div id="query-string">
                    <textarea id="sql">Select from the dropdown menu above...</textarea>
                  </div>
                </fieldset>
              </div>
            <div class="btn-group">
              <a class="btn" id="download-csv" target="_blank" href="#">Download .csv</a>
              <a class="btn" id="download-json" target="_blank" href="#">View JSON</a>
            </div>
            <div id="query-asterisk-field">
                <p>*All queries are URL-encoded when you select "Download as CSV" or "View JSON." Use these buttons as a shortcut when accessing the API programatically or for testing.</p>
            </div>
      </div>
      </div>
          <div class="section" id="about">
            <h2><a href="#about"><span class="bullet">$</span> <span class="internal-link">About</span></a></h2>
            <!-- Copied from http://www.bdatafest.computationalreporting.com/projects/fms-symphony -->
            <h3>The data</h3>
            <p>
              Every day at 4pm, the United States Treasury sends out an email
              summarizing the cash spending and borrowing of the Federal
              government&em;all the money Uncle Sam took in that day from taxpayers,
              how he spent it, on what, and how much debt he took out to make it happen.
              At a time of record fiscal deficits and continual debates over spending,
              taxation, and the debt, this daily accounting of our government's main
              checking account is an essential data point that the public should have
              ready access to.
            </p>
            <h3>Original data format</h3>
            <p>
              The Treasury told us in response to a Freedom of Information Act Request that
              it does not store this data in any format other than inconsistent, poorly-structured
              text files that don't lend themselves to programmatic analysis.
              So we set out to liberate this dataset by scraping and parsing eight years' worth of Daily Treasury Statements.
            </p>
            <h3>New data format</h3>
            <p>
              We have created the first-ever electronically searchable database of the Federal government's daily cash spending and borrowing.
              It updates daily, and we allow the public to easily query it.
              The data can be exported in various formats and loaded into various systems.
              We want to make it easy for people may build tools that
              search, explore, and visualize how the government spends their tax dollars.
            </p>
          </div>
          <div class="section" id="tables">
            <h2><a href="#tables"><span class="bullet">$</span> <span class="internal-link">Tables</span></a></h2>
            <p>
              This API provides eight tables. You can access them with the short names in parantheses.
              Click "preview" to download the first ten rows of the table as CSV, and click "full" to 
              download the full table as CSV.
            </p>
            <ul class="tables">
                <li>I. Operating Cash Balance (<code>t1</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t1%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t1;">full</a>)</li>
              <li>II. Deposits (<code>t2a</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t2a%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t2a;">full</a>) and Withdrawals (<code>2b</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t2b%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t2b;">full</a>)</li>
              <li>IIIa. Public Debt Transactions (<code>t3a</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t3a%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t3a;">full</a>)</li>
              <li>IIIb. Adjustment of Public Dept Transactions to Cash Basis (<code>t3b</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t3b%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t3b;">full</a>)</li>
              <li>IIIc. Debt Subject to Limit (<code>t3c</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t3c%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t3c;">full</a>)</li>
              <li>IV. Federal Tax Deposits (<code>t4</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t4%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t4;">full</a>)</li>
              <li>V. Short-term Cash Investments (<code>t5</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t5%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t5;">full</a>)</li>
              <li>VI. Incom Tax Refunds Issued (<code>t6</code> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t6%20LIMIT%2010;">preview</a> <a href="http://jsonadapter.herokuapp.com/?q=SELECT%20*%20FROM%20t6;">full</a>)</li>
            </ul>
          </div>
          <div class="section" id="usage">
              <h2><a href="#usage"><span class="bullet">$</span> <span class="internal-link">Usage</span></a></h2>
              <p>The eight tables are stored in one SQLite database. Query it from a URL like this:</p>
              <pre><code>https://premium.scraperwiki.com/cc7znvq/47d80ae900e04f2/sql/?q=YOUR_QUERY</code></pre>
              <p>where <code>YOUR_QUERY</code> is a URL-encoded SQL command. For example, you can see the database schema like so.</p>
              <pre><a target="_blank" href='https://premium.scraperwiki.com/cc7znvq/47d80ae900e04f2/sql/?q=SELECT%20"name","sql"%20FROM%20sqlite_master'><code>https://premium.scraperwiki.com/cc7znvq/47d80ae900e04f2/sql/?q=SELECT%20"name","sql"%20FROM%20sqlite_master</code></a></pre>
          </div>
          <div class="section" id="examples">
              <h2><a href="#examples"><span class="bullet">$</span> <span class="internal-link">Examples</span></a></h2>
              <p>Billions upon billions brain is the seed of intelligence hundreds of thousands ship of the imagination trillion! How far away, cosmic fugue Drake Equation extraordinary claims require extraordinary evidence from which we spring white dwarf, Jean-François Champollion?</p>
              <ul>
                <li>
                  <h3>Python</h3>
                  <div class="code-container">
                    <script src="http://gist-it.appspot.com/github/csvsoundsystem/pytreasuryio/blob/master/treasuryio/query.py"></script>
                  </div>
                </li>
                <li>
                  <h3>R</h3>
                  <div class="code-container">
                    <script src="http://gist-it.appspot.com/github/csvsoundsystem/Rtreasury.io/blob/master/R/treasury.io.R"></script>
                  </div>
                </li>
              </ul>
          </div>
          <div class="section" id="contact">
              <h2><a href="#contact"><span class="bullet">$</span> <span class="internal-link">Contact</span></a></h2>
              <p>For help with accessing the API or running it yourself, contact us via any of these means.</p>
              <ul>
                <li>Email the <a href="https://groups.google.com/forum/#!forum/federal-treasury-api">Google Group</a></li>
                <li>Submit an issue <a href="https://github.com/csvsoundsystem/fms_parser/issues/">on GitHub</a></li>
                <li><a href="https://twitter.com/csvsoundsystem">Tweet at us</a></li>
              </ul>
              <p>You should also contact us if you've done something cool with the API because we'd love to hear about it.</p>
          </div>
        </div>
    </div>
    <footer>
      <p>Made lovingly by <a href="http://csvsoundsystem.com" target="_blank" class="highlight-link">csv soundsystem</a> in fulfillment of a Code Sprint grant from <a href="http://www.mozillaopennews.org/" target="_blank"  class="highlight-link">knight-mozilla OpenNews</a>.</p><p><a href="http://dansinker.com/post/49856260511/opennews-code-sprints-do-some-spring-cleaning-on-data" target="_blank">Huh?</a></p>
    </footer>
    <script src="web/js/main.js"></script>
    <script>$('#navmenu').scrollspy();  </script>
</body>
</html>
